---
title: "Case Study on Bellabeat using R programming"
author: "Kean Lee"
date: '25-03-2022'
output:
  html_document: default
  word_document: default
  pdf_document: default
---
## **Background of Company**

Bellabeat is a tech-driven tech company that manufactures health-focused smart products for women that combines fashion with function.

Some notable products from Bellabeat includes:

**Bellabeat app** - Provides users with health data

**Leaf** - Wellness tracker that can be worn as a bracelet, necklace, or clip

**Time** - Wellness watch combines the timeless look of a classic timepiece with smart technology

**Spring** - Water bottle that tracks daily water intake using smart technology
Bellabeat membership - Subscription-based membership program that provides personalized guidance

**[Click here for further information on Bellabeat’s products](https://bellabeat.com/catalog/)**

## **1. Ask (Stakeholders and Business Task)**
### **Stakeholders:**

**Primary Stakeholders** - Urška Sršen (Bellabeat’s cofounder and Chief Creative Officer) and Sando Mur: Bellabeat’s cofounder

**Secondary Stakeholders** - Bellabeat marketing analytics team

**Business Task:** Urška Sršen is confident that an analysis of smart device usage by consumers will allow Bellabeat to achieve the following:

## **2. Prepare (Usage of Data Source)**
The **ROCCC** framework is adopted to evaluate the quality of data source:

**R**eliable - This dataset is generated by respondents to a distributed survey via Amazon Mechanical Turk between 03.12.2016-05.12.2016. However, the dataset is not reliable as sampling size was only 30 and it was not disclosed how the respondents was chosen. As a result, it is not possible to assess the accuracy, bias, and credibility of the dataset.

**O**riginal – As the dataset was originally collected by Amazon Mechanical Turk,  the dataset from [Möbius on the Kaggle platform](https://www.kaggle.com/arashnic/fitbit) is not original as it is a third party data source.

**C**omprehensive – The personal tracker data of Thirty eligible Fitbit users are available in the dataset. Critical information includes minute-level output for physical activity, heart rate, and sleep monitoring.

**C**urrent – The data was generated in Dec 2016 and the smart device usage of users may have changed. In consideration that the data was collected before COVID-19, user’s activities may have significantly changed during the COVID-19 period and thus affecting the relevancy of this dataset.

**C**ited – The dataset is uploaded by user Möbius on the Kaggle platform and is [available for public access](https://www.kaggle.com/arashnic/fitbit). 

#### **Loading of R Packages**
```{r}
library(tidyverse)
library(lubridate)
library(ggplot2)
```

## **3. Process (Data Cleaning)**
#### **Importing of dataset "dailyActivity_merged.csv" and "sleepDay_merged.csv" and assign it to the variables "daily_activity" and "sleep_day" respectively.**
```{r}
daily_activity <- read.csv("dailyActivity_merged.csv")
sleep_day <- read.csv("sleepDay_merged.csv")
weight <- read.csv("weightLogInfo_merged.csv")
```

#### **To confirm that proper assignment has been executed and to display the first row of "daily_activity", "sleep_day" and "weight".**
```{r}
head(daily_activity)
head(sleep_day)
head(weight)
```

#### **To create a new column name "Date" and provide a consistent date format D/M/Y for "daily_activity", "sleep_day" and "weight"**
```{r}
daily_activity$Date <-as.Date(daily_activity$ActivityDate, format = "%d/%m/%Y")
sleep_day$Date <- as.Date(sleep_day$SleepDay, format = "%d/%m/%Y")
weight$Date <- as.Date(weight$Date, format = "%d/%m/%Y")
```

#### **To confirm that "Date" has been created as a new column for "daily_activity" and "sleep_day"**
```{r}
glimpse(daily_activity$Date)
glimpse(sleep_day$Date)
glimpse(weight$Date)
```

## **4. Analyse (Data Organisation)**
#### **To check number of unique respondents in each dataframe
```{r}
n_distinct(daily_activity$Id)
n_distinct(sleep_day$Id)
n_distinct(weight$Id)
```

#### **To check the number of observations in each dataframe
```{r}
nrow(daily_activity)
nrow(sleep_day)
nrow(weight)
```


#### **To find out some quick summary statistics of the dataset**
```{r}
daily_activity %>%  
  select(TotalSteps,
         Calories,
         TotalDistance,
         SedentaryMinutes) %>%
  summary()

sleep_day %>%  
  select(TotalSleepRecords,
         TotalMinutesAsleep,
         TotalTimeInBed) %>%
  summary()

weight %>%  
  select(WeightKg,
         Fat,
         BMI) %>%
  summary()
```

#### **Combine "sleep_day" and "daily_activity" to one dataset**
```{r}
combined_sleep_activity <- merge(sleep_day, daily_activity, by="Id")
```
```{r}
n_distinct(combined_sleep_activity$Id)
```
```{r}
head(combined_sleep_activity)
```

#### **Combine "sleep_day" and "weight" to one dataset**
```{r}
combined_sleep_weight <- merge(sleep_day, weight, by="Id")
```
```{r}
n_distinct(combined_sleep_weight$Id)
```
```{r}
head(combined_sleep_weight)
```

## **5. Share (Supporting Visualization and Key Findings)**
#### **Finding out the relationship between total steps taken and calories burned**
```{r}
ggplot(data=daily_activity) +
  geom_smooth(mapping=aes(x=TotalSteps, y=Calories)) +
  labs(title="Daily Activity: Total Steps vs. Calories burned", subtitle= "Sample from Thirty Respondents", 
       caption="Data Source: kaggle.com/arashnic/fitbit", x="Total Steps Taken",y="Calories Burned")+
  annotate ("text", x=20000, y=1500, label="Higher Steps taken correlates to higher calories burned", color="black", fontface="bold", size=3.5, angle=0)
```

Unsurprisingly, those who clocked higher number of steps ended up burning more calories.
$$\\[0.005in]$$

#### **Finding out the relationship between total minutes asleep and total time spent in bed**
```{r}
ggplot(data=sleep_day) +
  geom_point(mapping=aes(x=TotalMinutesAsleep, y=TotalTimeInBed)) +
  labs(title="Sleeping Pattern: Total time asleep vs. Total time in bed", subtitle= "Sample from Thirty Respondents", 
       caption="Data Source: kaggle.com/arashnic/fitbit", x="Total Minutes Asleep",y="Total Time in Bed")+
  annotate ("text", x=500, y=100, label="Significant number of respondents are awake in bed", color="black", fontface="bold", size=3.5, angle=0)
```

The result shows that significant number of respondents choose not to or are facing problem falling asleep.
$$\\[0.005in]$$

#### **Finding out the relationship between total time asleep and high intensity activity**
```{r}
ggplot(data=combined_sleep_activity) +
  geom_smooth(mapping=aes(x=TotalMinutesAsleep, y=VeryActiveDistance)) +
  labs(title="Sleeping Pattern: Total time asleep vs. Very Active Distance", subtitle= "Sample from Thirty Respondents", 
       caption="Data Source: kaggle.com/arashnic/fitbit", x="Total Minutes Asleep",y="Very Active Distance")+
  annotate ("text", x=400, y=0.7, label="Most active respondents slept approx. 300 mins per day", color="black", fontface="bold", size=3.5, angle=0)
```

It can be inferred that the respondents who are the most active are sleeping approximately 300 minutes per day.
$$\\[0.005in]$$
```{r}
#### **Finding out the relationship between total time asleep and BMI**
ggplot(data=combined_sleep_weight) +
  geom_smooth(mapping=aes(x=TotalMinutesAsleep, y=BMI)) +
  labs(title="Sleeping Pattern: Total time asleep vs. Weight", subtitle= "Sample from Thirty Respondents", 
       caption="Data Source: kaggle.com/arashnic/fitbit", x="Total Minutes Asleep",y="BMI")+
  annotate ("text", x=400, y=20, label="Respondents who sleep more than 600 minutes per day tend to have increased BMI", color="black", fontface="bold", size=3.5, angle=0)
```

The result shows that respondents who sleep more than 600 minutes per day are more likely to have higher BMI.
$$\\[0.005in]$$

## **6. Act (Key Insights and Recommendation)**

#### **For Users who have potential sleeping issues**
* When the smart device detect that user are in bed but not asleep yet, Bellabeat can possibly push a notification to such user and provide tips to ease users into sleep if they are having insomnia.
$$\\[0.005in]$$

#### **Smart devices to be used during sleep**
* There were 33 responses for "daily_activity" and only 24 responses for "sleep_day". This may suggest that many respondents are not used to wear smart devices to sleep. As such, this may be an opportunity for Bellabeat to introduce an alternative smart device for users that want to track their sleeping patterns but do not feel comfortable to wear a smart watch to sleep.
$$\\[0.005in]$$

#### **Providing of health data**
* As there were only 8 distinct responses from the weight dataset, this may suggest that either that the smart device did not proactively get users to upload their weight data or users are not comfortable with providing their weight data. Either way, this is an opportunity for Bellabeat to provide benefits to users that upload their health data (height, weight, etc). For instance, some useful tips can be provided to users who provide their health data and if users wish to find out more, they can be prompted to try Bellabeat subscription.
$$\\[0.005in]$$
